<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Mario</title>
    <script src="../d3/d3.min.js"></script>

</head>

<body>
<div id="standing"></div>

<script type="text/javascript">
	var width = 300, height = 300; 
	var pixelWidth = width/16;
	var pixelHeight = height/16;
	// created my own color schema 
	var marioColors = ["#F40000","#806000","#F8C080"]
	var vis = d3.select("div#standing").append("svg")
		.attr("width", width)
		.attr("height", height)
		.style("border-width", "2px")
		.style("border-style", "solid");	
	
	var mario = [];
	var marioPixels = [];
	
	// this produces the exact same matrix as standing.html, but into a single matrix
	mario.push(0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0)
	mario.push(0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0)
	mario.push(0,0,0,0,2,2,2,3,3,2,3,0,0,0,0,0)
	mario.push(0,0,0,2,3,2,3,3,3,2,3,3,3,0,0,0)
	mario.push(0,0,0,2,3,2,2,3,3,3,2,3,3,3,0,0)
	mario.push(0,0,0,2,2,3,3,3,3,2,2,2,2,0,0,0)
	mario.push(0,0,0,0,0,3,3,3,3,3,3,3,0,0,0,0)
	mario.push(0,0,0,0,2,2,1,2,2,1,2,2,0,0,0,0)
	mario.push(0,0,0,2,2,2,1,2,2,1,2,2,2,0,0,0)
	mario.push(0,0,2,2,2,2,1,1,1,1,2,2,2,2,0,0)
	mario.push(0,0,3,3,2,1,3,1,1,3,1,2,3,3,0,0)
	mario.push(0,0,3,3,3,1,1,1,1,1,1,3,3,3,0,0)
	mario.push(0,0,3,3,1,1,1,1,1,1,1,1,3,3,0,0)
	mario.push(0,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0)
	mario.push(0,0,0,2,2,2,0,0,0,0,2,2,2,0,0,0)
	mario.push(0,0,2,2,2,2,0,0,0,0,2,2,2,2,0,0);
		
	// get the indices of the position where the value = 1		
	mario.forEach(function(d,i){ console.log(d,i); d ? marioPixels.push([i,d]) : null });  

	// append all layers
	// x is the: index % 16 (number of pixels specified above) 
	// y is the: floor (index / 16 (number of pixels specified above))	
	vis.selectAll("rect.all").data(marioPixels).enter().append("rect")
		.attr("class", "all")
		.attr("x", function(d,i) { return pixelWidth*(d[0]%16); })
		.attr("y", function(d,i) {  return pixelWidth*Math.floor(d[0]/16); })
		.attr("width", pixelWidth)
		.attr("height", pixelHeight)
		.style("fill", function(d,i) { return marioColors[d[1]-1]; });
		
</script>
</body>

</html>

